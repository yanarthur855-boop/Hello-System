<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>macOS 89.0 - Infinity</title>
    <style>
        /* --- ç³»ç»Ÿæ ¸å¿ƒæ ·å¼ (System Core CSS) --- */
        :root {
            --bg-gradient: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --dock-bg: rgba(255, 255, 255, 0.15);
            --accent-color: #0A84FF;
            --text-color: #ffffff;
        }

        * { box-sizing: border-box; user-select: none; }
        
        body {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            background: var(--bg-gradient);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            font-family: -apple-system, BlinkMacSystemFont, "San Francisco", "Helvetica Neue", sans-serif;
            overflow: hidden;
            color: var(--text-color);
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- é¡¶éƒ¨èœå•æ  (Menu Bar) --- */
        .menubar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 30px;
            padding: 0 20px;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            font-size: 14px;
            font-weight: 500;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
        }

        .menubar-left, .menubar-right { display: flex; gap: 20px; }
        .apple-logo { font-weight: bold; }
        
        /* --- æ¡Œé¢åŒºåŸŸ (Desktop) --- */
        .desktop {
            height: 100vh;
            width: 100vw;
            position: relative;
            padding-top: 30px;
        }

        /* --- çª—å£ç³»ç»Ÿ (Window System) --- */
        .window {
            width: 600px;
            height: 400px;
            background: rgba(30, 30, 30, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s cubic-bezier(0.19, 1, 0.22, 1), opacity 0.3s;
            opacity: 0;
            pointer-events: none;
        }

        .window.active {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            pointer-events: all;
        }

        .window-header {
            height: 40px;
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            padding: 0 15px;
            cursor: default; 
        }

        .window-controls {
            display: flex;
            gap: 8px;
        }

        .control { width: 12px; height: 12px; border-radius: 50%; }
        .close { background: #FF5F56; cursor: pointer; }
        .minimize { background: #FFBD2E; }
        .maximize { background: #27C93F; }

        .window-title {
            flex-grow: 1;
            text-align: center;
            color: rgba(255,255,255,0.7);
            font-size: 13px;
        }

        .window-content {
            flex-grow: 1;
            padding: 20px;
            overflow: auto;
            color: #ddd;
        }

        /* Finder å†…å®¹æ ·å¼ */
        .finder-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 20px;
        }
        .file-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
        }
        .file-icon:hover { background: rgba(255,255,255,0.1); }
        .file-emoji { font-size: 40px; margin-bottom: 5px; }
        .file-name { font-size: 12px; }

        /* --- åº•éƒ¨ Dock æ  (Dock) --- */
        .dock-container {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--dock-bg);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            padding: 10px 20px;
            border-radius: 24px;
            display: flex;
            gap: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: width 0.3s;
        }

        .dock-icon {
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 28px;
            cursor: pointer;
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), background 0.2s;
            position: relative;
        }

        .dock-icon:hover {
            transform: scale(1.2) translateY(-10px);
            background: rgba(255,255,255,0.2);
        }

        .dock-icon::after {
            content: '';
            position: absolute;
            bottom: -6px;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            opacity: 0;
        }

        .dock-icon.running::after { opacity: 1; }

        /* --- å¼€æœºåŠ¨ç”»è¦†ç›–å±‚ --- */
        #boot-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #000;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 1s ease-out;
        }
        .progress-bar {
            width: 200px;
            height: 4px;
            background: #333;
            border-radius: 2px;
            margin-top: 40px;
            overflow: hidden;
        }
        .progress-fill {
            width: 0%;
            height: 100%;
            background: #fff;
            transition: width 2s ease-in-out;
        }

    </style>
</head>
<body>

    <!-- å¼€æœºç”»é¢ -->
    <div id="boot-screen">
        <div style="font-size: 80px; color: white;">ï£¿</div>
        <div class="progress-bar"><div class="progress-fill" id="boot-fill"></div></div>
    </div>

    <!-- èœå•æ  -->
    <div class="menubar">
        <div class="menubar-left">
            <div class="apple-logo">ï£¿</div>
            <div>Finder</div>
            <div>æ–‡ä»¶</div>
            <div>ç¼–è¾‘</div>
            <div>è§†å›¾</div>
            <div>å‰å¾€</div>
            <div>çª—å£</div>
            <div>å¸®åŠ©</div>
        </div>
        <div class="menubar-right">
            <div>ğŸ§  ç¥ç»å¼•æ“: åœ¨çº¿</div>
            <div>ğŸ”‹ 100%</div>
            <div>ğŸ“¶ 6G+</div>
            <div id="clock">00:00</div>
        </div>
    </div>

    <!-- æ¡Œé¢ -->
    <div class="desktop" id="desktop">
        <!-- Finder çª—å£ -->
        <div class="window" id="window-finder">
            <div class="window-header">
                <div class="window-controls">
                    <div class="control close" onclick="closeWindow('window-finder')"></div>
                    <div class="control minimize"></div>
                    <div class="control maximize"></div>
                </div>
                <div class="window-title">Finder - æˆ‘çš„å…¨æ¯ç©ºé—´</div>
            </div>
            <div class="window-content">
                <div class="finder-grid">
                    <div class="file-icon">
                        <div class="file-emoji">ğŸ“‚</div>
                        <div class="file-name">æœºå¯†æ–‡ä»¶</div>
                    </div>
                    <div class="file-icon">
                        <div class="file-emoji">ğŸª</div>
                        <div class="file-name">ç«æ˜Ÿæ®–æ°‘è®¡åˆ’.pdf</div>
                    </div>
                    <div class="file-icon">
                        <div class="file-emoji">ğŸ§¬</div>
                        <div class="file-name">DNA å¤‡ä»½</div>
                    </div>
                    <div class="file-icon">
                        <div class="file-emoji">ğŸ¤–</div>
                        <div class="file-name">AI æ ¸å¿ƒä»£ç </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Safari çª—å£ -->
        <div class="window" id="window-safari">
            <div class="window-header">
                <div class="window-controls">
                    <div class="control close" onclick="closeWindow('window-safari')"></div>
                    <div class="control minimize"></div>
                    <div class="control maximize"></div>
                </div>
                <div class="window-title">Safari - ç¥ç»ç½‘æµè§ˆ</div>
            </div>
            <div class="window-content" style="text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                <h1>Welcome to Web 9.0</h1>
                <p>æ­£åœ¨è¿æ¥è‡³æ˜Ÿé™…ç½‘ç»œ...</p>
                <div style="margin-top: 20px; padding: 10px 20px; background: rgba(255,255,255,0.1); border-radius: 20px;">
                    ğŸ” æœç´¢å…¨å®‡å®™
                </div>
            </div>
        </div>

         <!-- Siri çª—å£ -->
         <div class="window" id="window-siri" style="height: 200px; width: 400px;">
            <div class="window-header">
                <div class="window-controls">
                    <div class="control close" onclick="closeWindow('window-siri')"></div>
                </div>
                <div class="window-title">Siri Pro Max</div>
            </div>
            <div class="window-content" style="display: flex; align-items: center; justify-content: center;">
                <div style="width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(45deg, cyan, purple); animation: pulse 2s infinite;"></div>
                <div style="margin-left: 20px;">"ä¸»äººï¼Œæœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿ"</div>
            </div>
        </div>
    </div>

    <!-- Dock æ  -->
    <div class="dock-container">
        <div class="dock-icon" onclick="openWindow('window-finder')" title="Finder">ğŸ˜†</div>
        <div class="dock-icon" onclick="openWindow('window-safari')" title="Safari">ğŸ§­</div>
        <div class="dock-icon" title="Messages">ğŸ’¬</div>
        <div class="dock-icon" title="Photos">ğŸ“¸</div>
        <div class="dock-icon" onclick="openWindow('window-siri')" title="Siri">ğŸŒˆ</div>
        <div class="dock-icon" title="Settings">âš™ï¸</div>
        <div class="dock-icon" title="Trash">ğŸ—‘ï¸</div>
    </div>

    <script>
        /* --- ç³»ç»Ÿé€»è¾‘è„šæœ¬ --- */

        // 1. å¼€æœºé€»è¾‘
        window.onload = function() {
            const fill = document.getElementById('boot-fill');
            const screen = document.getElementById('boot-screen');
            
            // æ¨¡æ‹ŸåŠ è½½
            setTimeout(() => { fill.style.width = '50%'; }, 500);
            setTimeout(() => { fill.style.width = '100%'; }, 1500);
            
            // è¿›å…¥ç³»ç»Ÿ
            setTimeout(() => {
                screen.style.opacity = '0';
                setTimeout(() => {
                    screen.style.display = 'none';
                    // æ’­æ”¾å¼€æœºå£°æ•ˆï¼ˆå¯é€‰ï¼Œè¿™é‡Œä¸ºäº†é™éŸ³æµè§ˆä½“éªŒä¸è‡ªåŠ¨æ’­æ”¾ï¼‰
                    // alert("æ¬¢è¿æ¥åˆ° macOS 89.0"); 
                    openWindow('window-finder'); // é»˜è®¤æ‰“å¼€ Finder
                }, 1000);
            }, 2200);
        };

        // 2. æ—¶é’Ÿé€»è¾‘
        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            document.getElementById('clock').innerText = `${hours}:${minutes}`;
        }
        setInterval(updateClock, 1000);
        updateClock();

        // 3. çª—å£ç®¡ç†é€»è¾‘
        let zIndexCounter = 100;

        function openWindow(id) {
            const win = document.getElementById(id);
            const dockIcon = document.querySelector(`.dock-icon[onclick="openWindow('${id}')"]`);
            
            // çª—å£åŠ¨ç”»
            win.classList.add('active');
            
            // çª—å£å±‚çº§ç½®é¡¶
            zIndexCounter++;
            win.style.zIndex = zIndexCounter;

            // Dock æŒ‡ç¤ºç¯
            if(dockIcon) dockIcon.classList.add('running');
        }

        function closeWindow(id) {
            const win = document.getElementById(id);
            win.classList.remove('active');
            
            // ç§»é™¤ Dock æŒ‡ç¤ºç¯ (ç®€åŒ–é€»è¾‘ï¼šå…³é—­å°±ç§»é™¤)
            const dockIcon = document.querySelector(`.dock-icon[onclick="openWindow('${id}')"]`);
            if(dockIcon) dockIcon.classList.remove('running');
        }

        // ç®€å•çš„çª—å£ç½®é¡¶é€»è¾‘
        document.querySelectorAll('.window').forEach(win => {
            win.addEventListener('mousedown', () => {
                zIndexCounter++;
                win.style.zIndex = zIndexCounter;
            });
        });

        // 4. æ‹–æ‹½åŠŸèƒ½ (ç®€åŒ–ç‰ˆ)
        // æ³¨æ„ï¼šè¿™é‡Œåªå®ç°äº†ç®€å•çš„è§†è§‰æ‹–æ‹½ï¼Œæœªå¤„ç†å¤æ‚çš„è¾¹ç•Œç¢°æ’
        let isDragging = false;
        let currentWindow = null;
        let offset = { x: 0, y: 0 };

        document.querySelectorAll('.window-header').forEach(header => {
            header.addEventListener('mousedown', (e) => {
                isDragging = true;
                currentWindow = header.parentElement;
                
                // è®¡ç®—é¼ æ ‡ç‚¹å‡»ä½ç½®ç›¸å¯¹äºçª—å£å·¦ä¸Šè§’çš„åç§»
                const rect = currentWindow.getBoundingClientRect();
                offset.x = e.clientX - rect.left;
                offset.y = e.clientY - rect.top;
                
                // ç§»é™¤ transform çš„å±…ä¸­å®šä½ï¼Œæ”¹ä¸º absolute top/left
                currentWindow.style.transform = 'none'; 
                currentWindow.style.left = rect.left + 'px';
                currentWindow.style.top = rect.top + 'px';
            });
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging || !currentWindow) return;
            currentWindow.style.left = (e.clientX - offset.x) + 'px';
            currentWindow.style.top = (e.clientY - offset.y) + 'px';
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            currentWindow = null;
        });

    </script>
</body>
</html>